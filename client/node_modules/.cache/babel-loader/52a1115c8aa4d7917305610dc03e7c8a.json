{"ast":null,"code":"var _jsxFileName = \"/Users/brianzeng/close/client/src/components/countyInfo/countyInfo.jsx\";\nimport React from 'react';\nimport \"./countyInfo.css\";\nimport StatisticsView from \"../statisticsView/statisticsView.js\";\nimport axios from 'axios';\n\nclass CountyInfo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      county: null,\n      cases: null,\n      deaths: null,\n      new_cases: null,\n      new_deaths: null,\n      articles: []\n    };\n\n    this.updateArticlesInParent = articles => {\n      this.setState({\n        articles: articles\n      });\n    };\n  }\n\n  componentDidMount() {\n    console.log(this.props.endpoint);\n    /*\n      replace with default county\n    */\n\n    this.setState({\n      county: this.props.county\n    });\n  }\n\n  componentDidUpdate(prev_props) {\n    if (prev_props.county !== this.props.county) {\n      // let county = \"Los Angelas County\"; //default\n      // if(this.props.match.params !== undefined) {\n      //   county = this.props.match.params.county;\n      // }\n      this.setState({\n        county: this.props.county\n      });\n    }\n  }\n\n  displayNewsFeed() {\n    return this.state.articles.sort( //sort the newsfeed articles by date, earliest to latest\n    function (article1, article2) {\n      return new Date(article1.timestamp) - new Date(article2.timestamp);\n    }).map(function (article) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"Article-element\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"Timestamp\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }\n      }, article.mins_ago), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"Title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: article.article_url,\n        className: \"Title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 15\n        }\n      }, article.article_title)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"Sourcename\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }\n      }, article.newspaper_name));\n    });\n  }\n\n  render() {\n    /**\n     * \n     */\n    document.getElementsByClassName(\"County-info\")[0];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"County-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(StatisticsView, {\n      county: this.state.county,\n      updateArticlesInParent: this.updateArticlesInParent,\n      endpoint: this.props.endpoint,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"News-feed\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Local-updates-for-Los-Angeles-Orange-County\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    }, \"Local updates for \", this.state.county), this.displayNewsFeed()));\n  }\n\n}\n\nexport default CountyInfo;","map":{"version":3,"sources":["/Users/brianzeng/close/client/src/components/countyInfo/countyInfo.jsx"],"names":["React","StatisticsView","axios","CountyInfo","Component","constructor","props","state","county","cases","deaths","new_cases","new_deaths","articles","updateArticlesInParent","setState","componentDidMount","console","log","endpoint","componentDidUpdate","prev_props","displayNewsFeed","sort","article1","article2","Date","timestamp","map","article","mins_ago","article_url","article_title","newspaper_name","render","document","getElementsByClassName"],"mappings":"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","sourcesContent":["import React from 'react';\nimport \"./countyInfo.css\";\nimport StatisticsView from \"../statisticsView/statisticsView.js\"\nimport axios from 'axios';\n\nclass CountyInfo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      county: null, \n      cases: null, \n      deaths: null, \n      new_cases: null, \n      new_deaths: null, \n      articles: []\n    };\n\n    this.updateArticlesInParent = (articles) => {\n      this.setState({\n        articles: articles\n      })\n    }\n  }\n\n  componentDidMount() {\n    console.log(this.props.endpoint)\n    /*\n      replace with default county\n    */\n   this.setState({\n     county: this.props.county\n   })\n  }\n\n  componentDidUpdate(prev_props) {\n    if(prev_props.county !== this.props.county) {\n      // let county = \"Los Angelas County\"; //default\n      // if(this.props.match.params !== undefined) {\n      //   county = this.props.match.params.county;\n      // }\n      this.setState({\n        county: this.props.county\n      })\n    }\n  }\n\n  displayNewsFeed() {\n    return  this.state.articles.sort( //sort the newsfeed articles by date, earliest to latest\n      function(article1, article2) {\n        return new Date(article1.timestamp) - new Date(article2.timestamp);\n      }\n    ).map(\n      function(article) {\n        return (\n          <div className=\"Article-element\"> \n            <div className=\"Timestamp\">\n              {article.mins_ago}\n            </div>\n            <div className=\"Title\">\n              <a href={article.article_url} className=\"Title\">\n                {article.article_title}\n              </a>\n            </div>\n            <div className=\"Sourcename\">\n              {article.newspaper_name}\n            </div>\n            \n          </div>\n        )\n      }\n    )\n  }\n\n\n  render() {\n    /**\n     * \n     */\n    document.getElementsByClassName(\"County-info\")[0]\n    return (\n      <div className=\"County-info\">\n          <StatisticsView \n            county={this.state.county}\n            updateArticlesInParent={this.updateArticlesInParent}\n            endpoint={this.props.endpoint}\n          />\n          <div className=\"News-feed\">\n            <div className=\"Local-updates-for-Los-Angeles-Orange-County\">\n              Local updates for {this.state.county}\n            </div>\n            {this.displayNewsFeed()}\n          </div>\n      </div>\n    )\n\n  }\n}\n\n\n\nexport default CountyInfo;\n"]},"metadata":{},"sourceType":"module"}