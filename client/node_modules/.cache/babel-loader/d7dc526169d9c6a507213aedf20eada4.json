{"ast":null,"code":"var _jsxFileName = \"/Users/brianzeng/close/client/src/components/statisticsView/statisticsView.js\";\nimport React from 'react';\nimport \"../countyInfo/countyInfo.css\";\nimport axios from 'axios';\nimport { tsExpressionWithTypeArguments } from '@babel/types';\nimport MediaQuery from 'react-media';\n\nclass StatisticsView extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      county: null,\n      cases: null,\n      deaths: null,\n      new_cases: null,\n      new_deaths: null\n    };\n  }\n\n  updateCountyInfo(county) {\n    if (county == null || county == undefined) {\n      return;\n    }\n\n    let endpoint = \"https://us-central1-iris-263608.cloudfunctions.net/close_ca_regional_news?county=\" + county; //region\n\n    this.setState({\n      county: \"Loading\",\n      cases: \"Loading\",\n      deaths: \"Loading\",\n      new_cases: \"Loading\",\n      new_deaths: \"Loading\",\n      articles: []\n    }, () => {\n      if (this.props.updateArticlesInParent !== undefined && this.props.updateArticlesInParent !== null) {\n        this.props.updateArticlesInParent([]);\n      }\n\n      axios.get(endpoint).then(response => {\n        console.log(\"Below is the response for: \" + county);\n        console.log(response.data); //index 1 means newly rendered component\n        //scroll to top on update\n        //document.getElementsByClassName('County-info')[1].scrollTo(0, 0) \n\n        this.setState({\n          county: response.data.county,\n          cases: response.data.cases,\n          deaths: response.data.deaths,\n          new_cases: response.data.new_cases,\n          new_deaths: response.data.new_deaths,\n          articles: response.data.articles\n        });\n\n        if (this.props.updateArticlesInParent !== undefined && this.props.updateArticlesInParent !== null) {\n          this.props.updateArticlesInParent(response.data.articles);\n        }\n      }).catch(err => {\n        console.log(\"An erorr occurred for: \" + county);\n        console.log(err);\n      });\n    });\n  }\n\n  componentDidMount() {\n    /*\n      replace with default county\n    */\n    this.updateCountyInfo(this.props.county);\n  }\n\n  componentDidUpdate(prev_props) {\n    if (prev_props.county !== this.props.county) {\n      this.componentDidMount();\n    }\n  }\n\n  render() {\n    /**\n     * \n     */\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Statistics-view\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Stats\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"CurrentNumbers\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 19\n      }\n    }, this.state.cases), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Labels\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 19\n      }\n    }, \"Confirmed\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"-today\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"ion-icon\", {\n      id: \"Arrow-icon\",\n      name: \"arrow-up-outline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 19\n      }\n    }), this.state.new_cases, \" today\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"CurrentNumbers\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 19\n      }\n    }, this.state.deaths), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Labels\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 19\n      }\n    }, \"Deceased\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"-today\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"ion-icon\", {\n      id: \"Arrow-icon\",\n      name: \"arrow-up-outline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 19\n      }\n    }), this.state.new_deaths, \" today\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Showing-Department-of-Public-Health-data\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }\n    }, \"Showing Department of Public Health data\"));\n  }\n\n}\n\nexport default StatisticsView;","map":{"version":3,"sources":["/Users/brianzeng/close/client/src/components/statisticsView/statisticsView.js"],"names":["React","axios","tsExpressionWithTypeArguments","MediaQuery","StatisticsView","Component","constructor","props","state","county","cases","deaths","new_cases","new_deaths","updateCountyInfo","undefined","endpoint","setState","articles","updateArticlesInParent","get","then","response","console","log","data","catch","err","componentDidMount","componentDidUpdate","prev_props","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport \"../countyInfo/countyInfo.css\";\nimport axios from 'axios';\nimport { tsExpressionWithTypeArguments } from '@babel/types';\nimport MediaQuery from 'react-media';\n\nclass StatisticsView extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      county: null, \n      cases: null, \n      deaths: null, \n      new_cases: null, \n      new_deaths: null, \n\n    };\n  }\n\n  updateCountyInfo(county) {\n    if(county == null || county == undefined) {\n      return;\n    }\n    let endpoint = \"https://us-central1-iris-263608.cloudfunctions.net/close_ca_regional_news?county=\" + county; //region\n\n    this.setState({\n      county: \"Loading\", \n      cases: \"Loading\", \n      deaths: \"Loading\", \n      new_cases: \"Loading\", \n      new_deaths: \"Loading\", \n      articles: [], \n\n    }, () => {\n      if(this.props.updateArticlesInParent !== undefined && this.props.updateArticlesInParent !== null) {\n        this.props.updateArticlesInParent([]);\n      }\n      axios.get(endpoint).then(\n        (response) => {\n          console.log(\"Below is the response for: \" + county)\n          console.log(response.data)\n          //index 1 means newly rendered component\n          //scroll to top on update\n          //document.getElementsByClassName('County-info')[1].scrollTo(0, 0) \n\n\n              this.setState({\n                county: response.data.county, \n                cases: response.data.cases, \n                deaths: response.data.deaths, \n                new_cases: response.data.new_cases, \n                new_deaths: response.data.new_deaths, \n                articles: response.data.articles\n              })\n              if(this.props.updateArticlesInParent !== undefined && this.props.updateArticlesInParent !== null) {\n                this.props.updateArticlesInParent(response.data.articles);\n              }\n        }\n      ).catch(\n        (err) => {\n          console.log(\"An erorr occurred for: \" + county)\n          console.log(err);\n        }\n      )});\n    \n  }\n\n\n  componentDidMount() {\n    /*\n      replace with default county\n    */\n   this.updateCountyInfo(this.props.county);\n\n  }\n\n  componentDidUpdate(prev_props) {\n    if(prev_props.county !== this.props.county) {\n        this.componentDidMount();\n    }\n      \n  }\n\n  render() {\n    /**\n     * \n     */\n    return (\n        <div className=\"Statistics-view\">\n    \n\n          <div className=\"Stats\">\n\n              <div className=\"Column\">\n                  <div className=\"CurrentNumbers\">\n                  {this.state.cases}\n                  </div>\n                  <div className=\"Labels\">\n                  Confirmed\n                  </div>\n\n                  <div className=\"-today\">\n                  <ion-icon id=\"Arrow-icon\" name=\"arrow-up-outline\"></ion-icon>{this.state.new_cases} today\n                  </div>\n              </div>\n\n              <div className=\"Column\">\n                  <div className=\"CurrentNumbers\">\n                  {this.state.deaths}\n                  </div>\n                  <div className=\"Labels\">\n                  Deceased\n                  </div>\n                  <div className=\"-today\">\n                  <ion-icon  id=\"Arrow-icon\" name=\"arrow-up-outline\"></ion-icon>{this.state.new_deaths} today\n                  </div>\n\n                  \n              </div>\n\n\n\n  \n          </div>\n\n\n\n        <div className=\"Showing-Department-of-Public-Health-data\">\n            Showing Department of Public Health data\n        </div>\n        \n        </div>\n        \n    )\n\n  }\n}\n\n\n\nexport default StatisticsView;\n"]},"metadata":{},"sourceType":"module"}