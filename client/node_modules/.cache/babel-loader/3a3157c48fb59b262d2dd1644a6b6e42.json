{"ast":null,"code":"var _jsxFileName = \"/Users/samgorman/Desktop/close-react/client/src/components/mobileMenu/mobileMenu.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport './mobileMenu.css';\n\nclass MobileMenu extends Component {\n  constructor(props) {\n    super(props); //TODO: get prop prev component \n    //TODO: get prop current county\n\n    this.state = {\n      selected_county: null,\n      counties: {},\n      prev_active_mobile_component: null\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"https://us-central1-iris-263608.cloudfunctions.net/close_ca_map_all\").then(response => {\n      let build_counties = {};\n\n      for (let i = 0; i < response.data.items.length; ++i) {\n        let county_info = response.data.items[i];\n        build_counties[county_info.county] = {\n          latitude: county_info.lat,\n          longitude: county_info.lon\n        };\n      }\n\n      console.log(\"ddogggg\");\n      console.log(build_counties);\n      this.setState({\n        selected_county: this.props.selected_county,\n        prev_active_mobile_component: this.props.prev_active_mobile_component,\n        counties: build_counties\n      });\n    }).catch(err => {\n      if (err) {\n        console.log(err);\n      }\n    });\n  }\n\n  componentDidUpdate(prev_props) {\n    if (prev_props !== this.props) {\n      this.setState({\n        selected_county: this.props.selected_county,\n        prev_active_mobile_component: this.props.prev_active_mobile_component\n      });\n    }\n  }\n\n  onCountySelection(county) {\n    this.props.onCountySelection(county, this.state.counties[county].longitude, this.state.counties[county].latitude);\n  }\n\n  makeCountiesList(counties, selected_county) {\n    let build_list = [];\n    let county_names = Object.keys(counties).sort((c1, c2) => {\n      return c1 > c2;\n    });\n    console.log(counties);\n\n    for (let i = 0; i < county_names.length; ++i) {\n      let county = county_names[i];\n      build_list.push( /*#__PURE__*/React.createElement(\"div\", {\n        className: \"List-element\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => {\n          this.onCountySelection(county);\n        },\n        className: \"Select-button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"Button-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"ion-icon\", {\n        style: {\n          color: this.getIconColor(county)\n        },\n        name: \"stop\",\n        id: \"Select-box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"County-name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 29\n        }\n      }, county)))));\n    }\n\n    return build_list;\n  }\n\n  getIconColor(county) {\n    if (this.state.selected_county === county) {\n      return \"#ffa700\";\n    } else {\n      return \"#27292d\";\n    }\n  }\n\n  onBackClick() {\n    this.props.changeActiveMobileComponent(this.props.prev_active_mobile_component);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Back-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.onBackClick(),\n      className: \"Back-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }\n    }, \"Back\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Selection-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Select-an-area\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 21\n      }\n    }, \"Select an area:\"), this.makeCountiesList(this.state.counties, this.state.selected_county)));\n  }\n\n}\n\nexport default MobileMenu;","map":{"version":3,"sources":["/Users/samgorman/Desktop/close-react/client/src/components/mobileMenu/mobileMenu.jsx"],"names":["React","Component","axios","MobileMenu","constructor","props","state","selected_county","counties","prev_active_mobile_component","componentDidMount","get","then","response","build_counties","i","data","items","length","county_info","county","latitude","lat","longitude","lon","console","log","setState","catch","err","componentDidUpdate","prev_props","onCountySelection","makeCountiesList","build_list","county_names","Object","keys","sort","c1","c2","push","color","getIconColor","onBackClick","changeActiveMobileComponent","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'; \nimport axios from 'axios';\nimport './mobileMenu.css';\n\n\n\nclass MobileMenu extends Component{\n    constructor(props) {\n        super(props);\n        //TODO: get prop prev component \n        //TODO: get prop current county\n        this.state = {\n            selected_county: null, \n            counties: {},\n            prev_active_mobile_component: null\n        }\n        \n    }\n\n    componentDidMount() {\n        axios.get(\"https://us-central1-iris-263608.cloudfunctions.net/close_ca_map_all\").then(\n            (response) => {\n                let build_counties = {};\n                for(let i = 0; i < response.data.items.length; ++i) {\n                    let county_info = response.data.items[i];\n                    build_counties[county_info.county] = {\n                        latitude: county_info.lat, \n                        longitude: county_info.lon\n                    };\n                }\n                console.log(\"ddogggg\")\n                console.log(build_counties)\n                this.setState({\n                    selected_county: this.props.selected_county,\n                    prev_active_mobile_component: this.props.prev_active_mobile_component,\n                    counties: build_counties\n                })\n            }\n        ).catch(\n            (err) => {\n                if(err) {\n                    console.log(err);\n                }\n            }\n        );\n    }\n\n    componentDidUpdate(prev_props) {\n        if(prev_props !== this.props) {\n            this.setState({\n                selected_county: this.props.selected_county,\n                prev_active_mobile_component: this.props.prev_active_mobile_component\n            })\n         \n        }\n    }\n\n    onCountySelection(county) {\n        this.props.onCountySelection(county, this.state.counties[county].longitude, this.state.counties[county].latitude);\n    }\n\n    makeCountiesList(counties, selected_county) {\n        let build_list = [];\n        let county_names = Object.keys(counties).sort((c1, c2) => {return c1 > c2});\n        console.log(counties)\n        for(let i = 0; i < county_names.length; ++i) {\n            let county = county_names[i];\n            build_list.push(\n                <div className=\"List-element\">\n                    <button onClick={() => { this.onCountySelection(county) }} className=\"Select-button\">\n                        <div className=\"Button-container\">\n                                <ion-icon \n                                    style={{color: this.getIconColor(county)}} \n                                    name=\"stop\"\n                                    id=\"Select-box\"\n                                />\n\n                            <div className=\"County-name\">\n                            {county}\n                            </div>\n                        </div>\n                    </button>\n                </div>\n            )\n        }\n        return build_list;\n    }\n\n    getIconColor(county) {\n        if(this.state.selected_county === county) {\n            return \"#ffa700\";\n        }else {\n            return \"#27292d\";\n        }\n    }\n\n    onBackClick() {\n        this.props.changeActiveMobileComponent(this.props.prev_active_mobile_component);\n    }\n\n    render() {\n        return (\n            <div>\n                <div className=\"Back-header\">\n                    <button onClick={() => this.onBackClick()} className=\"Back-button\">\n                        Back\n                    </button>\n                </div>\n                <div className=\"Selection-list\">\n                    <div className=\"Select-an-area\">\n                        Select an area: \n                    </div>\n                    {this.makeCountiesList(this.state.counties, this.state.selected_county)}\n                </div>\n            </div>\n\n        );\n    }\n  }\n  \n  export default MobileMenu"]},"metadata":{},"sourceType":"module"}